{
  "app-id": "org.gnome.Screenshot",
  "runtime": "org.gnome.Platform",
  "runtime-version": "master",
  "sdk": "org.gnome.Sdk",
  "command": "gnome-screenshot-wrapper",
  "finish-args": [
    "--share=ipc",
    "--socket=x11",
    "--socket=wayland",
    "--talk-name=org.gnome.Shell.Screenshot",
    "--filesystem=xdg-run/dconf",
    "--filesystem=~/.config/dconf:ro",
    "--talk-name=ca.desrt.dconf",
    "--env=DCONF_USER_CONFIG_DIR=.config/dconf",
    "--filesystem=home"
  ],
  "cleanup": [
    "/include",
    "/lib/pkgconfig",
    "/share/pkgconfig",
    "/share/aclocal",
    "/man",
    "/share/man",
    "/share/gtk-doc",
    "/share/vala",
    "*.la",
    "*.a"
  ],
  "modules": [
    {
      "name": "libcanberra-gtk3",
      "sources": [
        {
          "type": "archive",
          "url": "http://0pointer.de/lennart/projects/libcanberra/libcanberra-0.30.tar.xz",
          "sha256": "c2b671e67e0c288a69fc33dc1b6f1b534d07882c2aceed37004bf48c601afa72"
        }
      ]
    },
    {
      "name": "wrapper",
      "buildsystem": "simple",
      "build-commands": [
        "install -m755 gnome-screenshot-wrapper /app/bin"
      ],
      "sources": [
        {
          "type": "script",
          "dest-filename": "gnome-screenshot-wrapper",
          "commands": [
            "gnome-screenshot --interactive"
          ]
        }
      ]
    },
    {
      "name": "gnome-screenshot",
      "buildsystem": "meson",
      "sources": [
        {
          "type": "git",
          "url": "https://gitlab.gnome.org/GNOME/gnome-screenshot.git"
        }
      ],
      "post-install": [
        "desktop-file-edit --set-key=Exec --set-value='gnome-screenshot-wrapper %U' /app/share/applications/org.gnome.Screenshot.desktop"
      ]
    }
  ]
}